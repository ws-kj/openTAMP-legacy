<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>CHANGES: MPI for Python</title>
<meta name="author" content="Lisandro Dalcin" />
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 8642 2021-03-26 13:51:14Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS2.1_ stylesheet defines rules for Docutils elements without    */
/* HTML equivalent. It is required to make the document semantic visible. */
/*                                                                        */
/* .. _CSS2.1: http://www.w3.org/TR/CSS2                                  */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link       */

/* titles */
p.topic-title,
p.admonition-title,
p.system-message-title {
  font-weight: bold;
}
p.sidebar-title,
p.rubric {
  font-weight: bold;
  font-size: larger;
}
p.rubric {
  color: maroon;
}
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
h1 + p.subtitle {
  font-size: 1.6em;
}
h2 + p.section-subtitle, a.toc-backref {
  color: black;
  text-decoration: none;
}

/* Warnings, Errors */
.system-messages h2,
.system-message-title,
span.problematic {
  color: red;
}

/* Inline Literals */
.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wrap at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .simple  ul, .simple  ol,
.compact li, .compact ul, .compact ol,
.simple  > li p, dl.simple  > dd,
.compact > li p, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}
/* Nested Paragraphs */
p:first-child { margin-top: 0; }
p:last-child { margin-bottom: 0; }
td > p, th > p { margin-bottom: 0; }

/* Table of Contents */
.topic.contents { margin: 0.5em 0; }
.topic.contents ul.auto-toc {
  list-style-type: none;
  padding-left: 1.5em;
}

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

/* Definition Lists and Derivatives */
dt .classifier { font-style: italic }
dt .classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}
/* Field Lists and similar */
/* bold field name, content starts on the same line */
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt,
dl.footnote > dt,
dl.citation > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples, fit all Docinfo fields */
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}
/* field names followed by a colon */
dl.field-list > dt:after,
dl.docinfo > dt:after {
  content: ":";
}

/* Bibliographic Fields (docinfo) */
dl.docinfo pre.address {
  font: inherit;
  margin: 0.5em 0;
}
dl.docinfo > dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */
dl.footnote.superscript > dd { margin-left: 1em; }
dl.footnote.brackets > dd { margin-left: 2em; }
dl.footnote > dt { font-weight: normal; }
a.footnote-reference.brackets:before,
dt.label > span.brackets:before { content: "["; }
a.footnote-reference.brackets:after,
dt.label > span.brackets:after { content: "]"; }
a.footnote-reference.superscript,
dl.footnote.superscript > dt.label {
  vertical-align: super;
  font-size: small;
}
dt.label > span.fn-backref {
  margin-left: 0.2em;
  font-weight: normal;
}
dt.label > span.fn-backref > a { font-style: italic; }

/* Alignment */
.align-left   {
  text-align: left;
  margin-right: auto;
}
.align-center {
  clear: both;
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}
.align-right  {
  text-align: right;
  margin-left: auto;
}
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* reset inner alignment in figures and tables */
figure.align-left, figure.align-right,
table.align-left, table.align-center, table.align-right {
  text-align: inherit;
}

/* Text Blocks */
blockquote,
div.topic,
aside.topic {
  margin: 1em 2em;
}
.sidebar,
.admonition,
.system-message {
  border: thin solid;
  margin: 1em 2em;
  padding: 0.5em 1em;
}
.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
}
div.line-block { display: block; }
div.line-block div.line-block, pre { margin-left: 2em; }

/* Code line numbers: dropped when copying text from the page */
pre.code .ln { display: none; }
pre.code code:before {
  content: attr(data-lineno); /* …, none) fallback not supported by any browser */
  color: gray;
}

/* Tables */
table {
  border-collapse: collapse;
}
td, th {
  border: thin solid silver;
  padding: 0 1ex;
}
.borderless td, .borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

table > caption {
  text-align: left;
  margin-top: 0.2em;
  margin-bottom: 0.2em;
}
table.captionbelow {
  caption-side: bottom;
}

/* Document Header and Footer */
header { border-bottom: 1px solid black; }
footer { border-top: 1px solid black; }

/* Images are block-level by default in Docutils */
/* New HTML5 block elements: set display for older browsers */
img, header, section, footer, aside, nav, main, article, figure, video {
  display: block;
}
/* inline images */
p img, p video, figure img, figure video {
  display: inline;
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.                  */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 8636 2021-03-19 00:23:33Z milde $                                                               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3                                     */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  margin: 0;
  background-color: #dbdbdb;
}
main, footer, header {
  line-height:1.3;
  /* avoid long lines --> better reading */
  /* optimum is 45…75 characters/line <http://webtypography.net/2.1.2> */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50rem;
  padding: 1px 2%; /* 1px on top avoids grey bar above title (mozilla) */
  margin: auto;
}
main {
  counter-reset: table figure;
  background-color: white;
}
footer, header {
  font-size: smaller;
  padding: 0.5em 2%;
  border: none;
}

/* Transitions */
hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs */

/* vertical space (parskip) */
p, ol, ul, dl, li, dd,
div.line-block,
div.topic,
table {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
p:first-child { margin-top: 0; }
/* (:last-child is new in CSS 3) */
p:last-child  { margin-bottom: 0; }

h1, h2, h3, h4, h5, h6,
dl > dd {
  margin-bottom: 0.5em;
}

/* Lists */
/* ===== */

/* Separate list entries in compound lists */
dl > dd, ol > li,

/* Definition Lists */
/* Indent lists nested in definition lists */
/* (:only-child is new in CSS 3)           */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}

/* Field Lists */

/* example for custom field-name width */
dl.field-list.narrow > dd {
  margin-left: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use special definition list dl.docinfo */
/* but dedication and abstract are placed into "topic" divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* Text Blocks */
/* =========== */

/* Literal Blocks */
pre.literal-block, pre.doctest-block,
pre.math, pre.code {
  font-family: monospace;
}

/* Block Quotes */
blockquote > table,
div.topic > table {
  margin-top: 0;
  margin-bottom: 0;
}
blockquote p.attribution,
div.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables */
/* ====== */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks */
/* ====================== */

/* Footnotes and Citations */
/* ----------------------- */

/* line on the left */
dl.footnote {
  padding-left: 1ex;
  border-left: solid;
  border-left-width: thin;
}

/* Directives */
/* ---------- */

/* Body Elements */
/* ~~~~~~~~~~~~~ */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
figure.align-left,
img.align-left,
video.align-left,
object.align-left {
  clear: left;
  float: left;
  margin-right: 1em;
}
figure.align-right,
img.align-right,
video.align-right,
object.align-right {
  clear: right;
  float: right;
  margin-left: 1em;
}
/* Stop floating sidebars, images and figures */
h1, h2, h3, h4, footer, header { clear: both; }

/* Numbered figures */
figure.numbered > figcaption > p:before {
  counter-increment: figure;
  content: "Figure " counter(figure) ": ";
  font-weight: bold;
}

/* Admonitions and System Messages */
.caution p.admonition-title,
.attention p.admonition-title,
.danger p.admonition-title,
.error p.admonition-title,
.warning p.admonition-title,
div.error {
  color: red;
}

/* Sidebar */
/* Move right. In a layout with fixed margins, */
/* it can be moved into the margin.            */
aside.sidebar {
  width: 30%;
  max-width: 26em;
  margin-left: 1em;
  margin-right: -2%;
  background-color: #ffffee;
}

/* Code */
pre.code { padding: 0.7ex }
pre.code, code { background-color: #eeeeee }
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math */
/* styled separately (see math.css for math-output=HTML) */

/* Epigraph           */
/* Highlights         */
/* Pull-Quote         */
/* Compound Paragraph */
/* Container          */

/* Inline Markup */
/* ============= */

/* Inline Literals                                          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; }       */

/* Hyperlink References */
a { text-decoration: none; }

/* External Targets       */
/*   span.target.external */
/* Internal Targets       */
/*   span.target.internal */
/* Footnote References    */
/*   a.footnote-reference */
/* Citation References    */
/*   a.citation-reference */

</style>
</head>
<body>
<main id="changes-mpi-for-python">
<h1 class="title">CHANGES: MPI for Python</h1>
<dl class="docinfo">
<dt class="author">Author</dt>
<dd class="author"><p>Lisandro Dalcin</p></dd>
<dt class="contact">Contact</dt>
<dd class="contact"><a class="reference external" href="mailto:dalcinl&#64;gmail.com">dalcinl&#64;gmail.com</a></dd>
</dl>
<section id="release-3-1-3-2021-11-25">
<h2>Release 3.1.3 [2021-11-25]</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is the last release supporting Python 2.</p>
</div>
<ul>
<li><p>Add missing support for <cite>MPI.BOTTOM</cite> to generalized all-to-all collectives.</p></li>
</ul>
</section>
<section id="release-3-1-2-2021-11-04">
<h2>Release 3.1.2 [2021-11-04]</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is the last release supporting Python 2.</p>
</div>
<ul>
<li><p><cite>mpi4py.futures</cite>: Add <cite>_max_workers</cite> property to <cite>MPIPoolExecutor</cite>.</p></li>
<li><p><cite>mpi4py.util.dtlib</cite>: Fix computation of alignment for predefined datatypes.</p></li>
<li><p><cite>mpi4py.util.pkl5</cite>: Fix deadlock when using <span class="docutils literal">ssend()</span> + <span class="docutils literal">mprobe()</span>.</p></li>
<li><p><cite>mpi4py.util.pkl5</cite>: Add environment variable <cite>MPI4PY_PICKLE_THRESHOLD</cite>.</p></li>
<li><p><cite>mpi4py.rc</cite>: Interpret <span class="docutils literal">&quot;y&quot;</span> and <span class="docutils literal">&quot;n&quot;</span> strings as boolean values.</p></li>
<li><p>Fix/add typemap/typestr for <cite>MPI.WCHAR</cite>/<cite>MPI.COUNT</cite> datatypes.</p></li>
<li><p>Minor fixes and additions to documentation.</p></li>
<li><p>Minor fixes to typing support.</p></li>
<li><p>Support for local version identifier (PEP-440).</p></li>
</ul>
</section>
<section id="release-3-1-1-2021-08-14">
<h2>Release 3.1.1 [2021-08-14]</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is the last release supporting Python 2.</p>
</div>
<ul>
<li><p>Fix typo in Requires-Python package metadata.</p></li>
<li><p>Regenerate C sources with Cython 0.29.24.</p></li>
</ul>
</section>
<section id="release-3-1-0-2021-08-12">
<h2>Release 3.1.0 [2021-08-12]</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is the last release supporting Python 2.</p>
</div>
<ul>
<li><p>New features:</p>
<ul>
<li><p><cite>mpi4py.util</cite>: New package collecting miscellaneous utilities.</p></li>
</ul>
</li>
<li><p>Enhancements:</p>
<ul>
<li><p>Add pickle-based <span class="docutils literal">Request.waitsome()</span> and <span class="docutils literal">Request.testsome()</span>.</p></li>
<li><p>Add lowercase methods <span class="docutils literal">Request.get_status()</span> and <span class="docutils literal">Request.cancel()</span>.</p></li>
<li><p>Support for passing Python GPU arrays compliant with the <a class="reference external" href="https://github.com/dmlc/dlpack">DLPack</a> data
interchange mechanism (<a class="reference external" href="https://data-apis.org/array-api/latest/design_topics/data_interchange.html">link</a>) and the <span class="docutils literal">__cuda_array_interface__</span>
(CAI) standard (<a class="reference external" href="https://numba.readthedocs.io/en/stable/cuda/cuda_array_interface.html">link</a>) to uppercase methods. This support requires
that mpi4py is built against <a class="reference external" href="https://developer.nvidia.com/blog/introduction-cuda-aware-mpi/">CUDA-aware MPI</a> implementations. This
feature is currently experimental and subject to future changes.</p></li>
<li><p><cite>mpi4py.futures</cite>: Add support for initializers and canceling futures at shutdown.
Environment variables names now follow the pattern <span class="docutils literal">MPI4PY_FUTURES_*</span>, the
previous <span class="docutils literal">MPI4PY_*</span> names are deprecated.</p></li>
<li><p>Add type annotations to Cython code. The first line of the docstring of functions
and methods displays a signature including type annotations.</p></li>
<li><p>Add companion stub files to support type checkers.</p></li>
<li><p>Support for weak references.</p></li>
</ul>
</li>
<li><p>Miscellaneous:</p>
<ul>
<li><p>Add a new mpi4py publication (<a class="reference external" href="https://doi.org/10.1109/MCSE.2021.3083216">link</a>) to the citation listing.</p></li>
</ul>
</li>
</ul>
</section>
<section id="release-3-0-3-2019-11-04">
<h2>Release 3.0.3 [2019-11-04]</h2>
<ul>
<li><p>Regenerate Cython wrappers to support Python 3.8.</p></li>
</ul>
</section>
<section id="release-3-0-2-2019-06-11">
<h2>Release 3.0.2 [2019-06-11]</h2>
<ul>
<li><p>Bug fixes:</p>
<ul>
<li><p>Fix handling of readonly buffers in support for Python 2 legacy
buffer interface. The issue triggers only when using a buffer-like
object that is readonly and does not export the new Python 3
buffer interface.</p></li>
<li><p>Fix build issues with Open MPI 4.0.x series related to removal of
many MPI-1 symbols deprecated in MPI-2 and removed in MPI-3.</p></li>
<li><p>Minor documentation fixes.</p></li>
</ul>
</li>
</ul>
</section>
<section id="release-3-0-1-2019-02-15">
<h2>Release 3.0.1 [2019-02-15]</h2>
<ul>
<li><p>Bug fixes:</p>
<ul>
<li><p>Fix <span class="docutils literal">Comm.scatter()</span> and other collectives corrupting input send
list. Add safety measures to prevent related issues in global
reduction operations.</p></li>
<li><p>Fix error-checking code for counts in <span class="docutils literal">Op.Reduce_local()</span>.</p></li>
</ul>
</li>
<li><p>Enhancements:</p>
<ul>
<li><p>Map size-specific Python/NumPy typecodes to MPI datatypes.</p></li>
<li><p>Allow partial specification of target list/tuple arguments in the
various <span class="docutils literal">Win</span> RMA methods.</p></li>
<li><p>Workaround for removal of <span class="docutils literal">MPI_{LB|UB}</span> in Open MPI 4.0.</p></li>
<li><p>Support for Microsoft MPI v10.0.</p></li>
</ul>
</li>
</ul>
</section>
<section id="release-3-0-0-2017-11-08">
<h2>Release 3.0.0 [2017-11-08]</h2>
<ul>
<li><p>New features:</p>
<ul>
<li><p><cite>mpi4py.futures</cite>: Execute computations asynchronously using a pool
of MPI processes. This package is based on <span class="docutils literal">concurrent.futures</span>
from the Python standard library.</p></li>
<li><p><cite>mpi4py.run</cite>: Run Python code and abort execution in case of
unhandled exceptions to prevent deadlocks.</p></li>
<li><p><cite>mpi4py.bench</cite>: Run basic MPI benchmarks and tests.</p></li>
</ul>
</li>
<li><p>Enhancements:</p>
<ul>
<li><p>Lowercase, pickle-based collective communication calls are now
thread-safe through the use of fine-grained locking.</p></li>
<li><p>The <span class="docutils literal">MPI</span> module now exposes a <span class="docutils literal">memory</span> type which is a
lightweight variant of the builtin <span class="docutils literal">memoryview</span> type, but
exposes both the legacy Python 2 and the modern Python 3 buffer
interface under a Python 2 runtime.</p></li>
<li><p>The <span class="docutils literal">MPI.Comm.Alltoallw()</span> method now uses <span class="docutils literal">count=1</span> and
<span class="docutils literal">displ=0</span> as defaults, assuming that messages are specified
through user-defined datatypes.</p></li>
<li><p>The <span class="docutils literal"><span class="pre">Request.Wait[all]()</span></span> methods now return <span class="docutils literal">True</span> to match
the interface of <span class="docutils literal"><span class="pre">Request.Test[all]()</span></span>.</p></li>
<li><p>The <span class="docutils literal">Win</span> class now implements the Python buffer interface.</p></li>
</ul>
</li>
<li><p>Backward-incompatible changes:</p>
<ul>
<li><p>The <span class="docutils literal">buf</span> argument of the <span class="docutils literal">MPI.Comm.recv()</span> method is
deprecated, passing anything but <span class="docutils literal">None</span> emits a warning.</p></li>
<li><p>The <span class="docutils literal">MPI.Win.memory</span> property was removed, use the
<span class="docutils literal">MPI.Win.tomemory()</span> method instead.</p></li>
<li><p>Executing <span class="docutils literal">python <span class="pre">-m</span> mpi4py</span> in the command line is now
equivalent to <span class="docutils literal">python <span class="pre">-m</span> mpi4py.run</span>. For the former behavior,
use <span class="docutils literal">python <span class="pre">-m</span> mpi4py.bench</span>.</p></li>
<li><p>Python 2.6 and 3.2 are no longer supported. The <span class="docutils literal">mpi4py.MPI</span>
module may still build and partially work, but other pure-Python
modules under the <span class="docutils literal">mpi4py</span> namespace will not.</p></li>
<li><p>Windows: Remove support for legacy MPICH2, Open MPI, and DeinoMPI.</p></li>
</ul>
</li>
</ul>
</section>
<section id="release-2-0-0-2015-10-18">
<h2>Release 2.0.0 [2015-10-18]</h2>
<ul>
<li><p>Support for MPI-3 features.</p>
<ul>
<li><p>Matched probes and receives.</p></li>
<li><p>Nonblocking collectives.</p></li>
<li><p>Neighborhood collectives.</p></li>
<li><p>New communicator constructors.</p></li>
<li><p>Request-based RMA operations.</p></li>
<li><p>New RMA communication and synchronisation calls.</p></li>
<li><p>New window constructors.</p></li>
<li><p>New datatype constructor.</p></li>
<li><p>New C++ boolean and floating complex datatypes.</p></li>
</ul>
</li>
<li><p>Support for MPI-2 features not included in previous releases.</p>
<ul>
<li><p>Generalized All-to-All collective (<span class="docutils literal">Comm.Alltoallw()</span>)</p></li>
<li><p>User-defined data representations (<span class="docutils literal">Register_datarep()</span>)</p></li>
</ul>
</li>
<li><p>New scalable implementation of reduction operations for Python
objects. This code is based on binomial tree algorithms using
point-to-point communication and duplicated communicator
contexts. To disable this feature, use
<span class="docutils literal">mpi4py.rc.fast_reduce = False</span>.</p></li>
<li><p>Backward-incompatible changes:</p>
<ul>
<li><p>Python 2.4, 2.5, 3.0 and 3.1 are no longer supported.</p></li>
<li><p>Default MPI error handling policies are overriden. After import,
mpi4py sets the <span class="docutils literal">ERRORS_RETURN</span> error handler in <span class="docutils literal">COMM_SELF</span>
and <span class="docutils literal">COMM_WORLD</span>, as well as any new <span class="docutils literal">Comm</span>, <span class="docutils literal">Win</span>, or
<span class="docutils literal">File</span> instance created through mpi4py, thus effectively
ignoring the MPI rules about error handler inheritance.  This way,
MPI errors translate to Python exceptions.  To disable this
behavior and use the standard MPI error handling rules, use
<span class="docutils literal">mpi4py.rc.errors = 'default'</span>.</p></li>
<li><p>Change signature of all send methods,
<span class="docutils literal">dest</span> is a required argument.</p></li>
<li><p>Change signature of all receive and probe methods,
<span class="docutils literal">source</span> defaults to <span class="docutils literal">ANY_SOURCE</span>,
<span class="docutils literal">tag</span> defaults to <span class="docutils literal">ANY_TAG</span>.</p></li>
<li><p>Change signature of send lowercase-spelling methods,
<span class="docutils literal">obj</span> arguments are not mandatory.</p></li>
<li><p>Change signature of recv lowercase-spelling methods,
renamed 'obj' arguments to 'buf'.</p></li>
<li><p>Change <span class="docutils literal">Request.Waitsome()</span> and <span class="docutils literal">Request.Testsome()</span>
to return <span class="docutils literal">None</span> or <span class="docutils literal">list</span>.</p></li>
<li><p>Change signature of all lowercase-spelling collectives,
<span class="docutils literal">sendobj</span> arguments are now mandatory,
<span class="docutils literal">recvobj</span> arguments were removed.</p></li>
<li><p>Reduction operations <span class="docutils literal">MAXLOC</span> and <span class="docutils literal">MINLOC</span> are no longer
special-cased in lowercase-spelling methods <span class="docutils literal"><span class="pre">Comm.[all]reduce()</span></span>
and <span class="docutils literal"><span class="pre">Comm.[ex]scan()</span></span>, the input object must be specified as a
tuple <span class="docutils literal">(obj, location)</span>.</p></li>
<li><p>Change signature of name publishing functions.
The new signatures are
<span class="docutils literal">Publish_name(service_name, port_name, info=INFO_NULL)</span> and
<span class="docutils literal">Unpublish_name(service_name, port_name, info=INFO_NULL)`</span>.</p></li>
<li><p><span class="docutils literal">Win</span> instances now cache Python objects exposing memory by
keeping references instead of using MPI attribute caching.</p></li>
<li><p>Change signature of <span class="docutils literal">Win.Lock()</span>.
The new signature is
<span class="docutils literal">Win.Lock(rank, lock_type=LOCK_EXCLUSIVE, assertion=0)</span>.</p></li>
<li><p>Move <span class="docutils literal">Cartcomm.Map()</span> to <span class="docutils literal">Intracomm.Cart_map()</span>.</p></li>
<li><p>Move <span class="docutils literal">Graphcomm.Map()</span> to <span class="docutils literal">Intracomm.Graph_map()</span>.</p></li>
<li><p>Remove the <span class="docutils literal">mpi4py.MPE</span> module.</p></li>
<li><p>Rename the Cython definition file for use with <span class="docutils literal">cimport</span>
statement from <span class="docutils literal">mpi_c.pxd</span> to <span class="docutils literal">libmpi.pxd</span>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="release-1-3-1-2013-08-07">
<h2>Release 1.3.1 [2013-08-07]</h2>
<ul>
<li><p>Regenerate C wrappers with Cython 0.19.1 to support Python 3.3.</p></li>
<li><p>Install <span class="docutils literal">*.pxd</span> files in <span class="docutils literal"><span class="pre">&lt;site-packages&gt;/mpi4py</span></span> to ease the
support for Cython's <span class="docutils literal">cimport</span> statement in code requiring to
access mpi4py internals.</p></li>
<li><p>As a side-effect of using Cython 0.19.1, ancient Python 2.3 is no
longer supported. If you really need it, you can install an older
Cython and run <span class="docutils literal">python setup.py build_src <span class="pre">--force</span></span>.</p></li>
</ul>
</section>
<section id="release-1-3-2012-01-20">
<h2>Release 1.3 [2012-01-20]</h2>
<ul>
<li><p>Now <span class="docutils literal">Comm.recv()</span> accept a buffer to receive the message.</p></li>
<li><p>Add <span class="docutils literal">Comm.irecv()</span> and <span class="docutils literal"><span class="pre">Request.{wait|test}[any|all]()</span></span>.</p></li>
<li><p>Add <span class="docutils literal">Intracomm.Spawn_multiple()</span>.</p></li>
<li><p>Better buffer handling for PEP 3118 and legacy buffer interfaces.</p></li>
<li><p>Add support for attribute attribute caching on communicators,
datatypes and windows.</p></li>
<li><p>Install MPI-enabled Python interpreter as
<span class="docutils literal"><span class="pre">&lt;path&gt;/mpi4py/bin/python-mpi</span></span>.</p></li>
<li><p>Windows: Support for building with Open MPI.</p></li>
</ul>
</section>
<section id="release-1-2-2-2010-09-13">
<h2>Release 1.2.2 [2010-09-13]</h2>
<ul>
<li><p>Add <span class="docutils literal">mpi4py.get_config()</span> to retrieve information (compiler
wrappers, includes, libraries, etc) about the MPI implementation
employed to build mpi4py.</p></li>
<li><p>Workaround Python libraries with missing GILState-related API calls
in case of non-threaded Python builds.</p></li>
<li><p>Windows: look for MPICH2, DeinoMPI, Microsoft HPC Pack at their
default install locations under %ProgramFiles.</p></li>
<li><p>MPE: fix hacks related to old API's, these hacks are broken when MPE
is built with a MPI implementations other than MPICH2.</p></li>
<li><p>HP-MPI: fix for missing Fortran datatypes, use dlopen() to load the
MPI shared library before MPI_Init()</p></li>
<li><p>Many distutils-related fixes, cleanup, and enhancements, better
logics to find MPI compiler wrappers.</p></li>
<li><p>Support for <span class="docutils literal">pip install mpi4py</span>.</p></li>
</ul>
</section>
<section id="release-1-2-1-2010-02-26">
<h2>Release 1.2.1 [2010-02-26]</h2>
<ul>
<li><p>Fix declaration in Cython include file. This declaration, while
valid for Cython, broke the simple-minded parsing used in
conf/mpidistutils.py to implement configure-tests for availability
of MPI symbols.</p></li>
<li><p>Update SWIG support and make it compatible with Python 3. Also
generate an warning for SWIG &lt; 1.3.28.</p></li>
<li><p>Fix distutils-related issues in Mac OS X. Now ARCHFLAGS environment
variable is honored of all Python's <span class="docutils literal">config/Makefile</span> variables.</p></li>
<li><p>Fix issues with Open MPI &lt; 1.4.2 releated to error checking and
<span class="docutils literal">MPI_XXX_NULL</span> handles.</p></li>
</ul>
</section>
<section id="release-1-2-2009-12-29">
<h2>Release 1.2 [2009-12-29]</h2>
<ul>
<li><p>Automatic MPI datatype discovery for NumPy arrays and PEP-3118
buffers. Now buffer-like objects can be messaged directly, it is no
longer required to explicitly pass a 2/3-list/tuple like <span class="docutils literal">[data, MPI.DOUBLE]</span>, or <span class="docutils literal">[data, count, MPI.DOUBLE]</span>. Only basic types
are supported, i.e., all C/C99-native signed/unsigned integral types
and single/double precision real/complex floating types. Many thanks
to Eilif Muller for the initial feedback.</p></li>
<li><p>Nonblocking send of pickled Python objects. Many thanks to Andreas
Kloeckner for the initial patch and enlightening discussion about
this enhancement.</p></li>
<li><p><span class="docutils literal">Request</span> instances now hold a reference to the Python object
exposing the buffer involved in point-to-point communication or
parallel I/O. Many thanks to Andreas Kloeckner for the initial
feedback.</p></li>
<li><p>Support for logging of user-defined states and events using <a class="reference external" href="http://www.mcs.anl.gov/research/projects/perfvis/">MPE</a>. Runtime
(i.e., without requiring a recompile!)  activation of logging of all
MPI calls is supported in POSIX platforms implementing <span class="docutils literal">dlopen()</span>.</p></li>
<li><p>Support for all the new features in MPI-2.2 (new C99 and F90
datatypes, distributed graph topology, local reduction operation,
and other minor enhancements).</p></li>
<li><p>Fix the annoying issues related to Open MPI and Python dynamic
loading of extension modules in platforms supporting <span class="docutils literal">dlopen()</span>.</p></li>
<li><p>Fix SLURM dynamic loading issues on SiCortex. Many thanks to Ian
Langmore for providing me shell access.</p></li>
</ul>
</section>
<section id="release-1-1-0-2009-06-06">
<h2>Release 1.1.0 [2009-06-06]</h2>
<ul>
<li><p>Fix bug in <span class="docutils literal">Comm.Iprobe()</span> that caused segfaults as Python C-API
calls were issued with the GIL released (issue #2).</p></li>
<li><p>Add <span class="docutils literal">Comm.bsend()</span> and <span class="docutils literal">Comm.ssend()</span> for buffered and
synchronous send semantics when communicating general Python
objects.</p></li>
<li><p>Now the call <span class="docutils literal">Info.Get(key)</span> return a <em>single</em> value (i.e, instead
of a 2-tuple); this value is <span class="docutils literal">None</span> if <span class="docutils literal">key</span> is not in the
<span class="docutils literal">Info</span> object, or a string otherwise. Previously, the call
redundantly returned <span class="docutils literal">(None, False)</span> for missing key-value pairs;
<span class="docutils literal">None</span> is enough to signal a missing entry.</p></li>
<li><p>Add support for parametrized Fortran datatypes.</p></li>
<li><p>Add support for decoding user-defined datatypes.</p></li>
<li><p>Add support for user-defined reduction operations on memory
buffers. However, at most 16 user-defined reduction operations
can be created. Ask the author for more room if you need it.</p></li>
</ul>
</section>
<section id="release-1-0-0-2009-03-20">
<h2>Release 1.0.0 [2009-03-20]</h2>
<p>This is the fist release of the all-new, Cython-based, implementation
of <em>MPI for Python</em>. Unfortunately, this implementation is not
backward-compatible with the previous one. The list below summarizes
the more important changes that can impact user codes.</p>
<ul>
<li><p>Some communication calls had <em>overloaded</em> functionality. Now there
is a clear distinction between communication of general Python
object with <em>pickle</em>, and (fast, near C-speed) communication of
buffer-like objects (e.g., NumPy arrays).</p>
<ul>
<li><p>for communicating general Python objects, you have to use
all-lowercase methods, like <span class="docutils literal">send()</span>, <span class="docutils literal">recv()</span>, <span class="docutils literal">bcast()</span>,
etc.</p></li>
<li><p>for communicating array data, you have to use <span class="docutils literal">Send()</span>,
<span class="docutils literal">Recv()</span>, <span class="docutils literal">Bcast()</span>, etc. methods. Buffer arguments to these
calls must be explicitly specified by using a 2/3-list/tuple like
<span class="docutils literal">[data, MPI.DOUBLE]</span>, or <span class="docutils literal">[data, count, MPI.DOUBLE]</span> (the
former one uses the byte-size of <span class="docutils literal">data</span> and the extent of the
MPI datatype to define the <span class="docutils literal">count</span>).</p></li>
</ul>
</li>
<li><p>Indexing a communicator with an integer returned a special object
associating the communication with a target rank, alleviating you
from specifying source/destination/root arguments in point-to-point
and collective communications. This functionality is no longer
available, expressions like:</p>
<pre class="literal-block">MPI.COMM_WORLD[0].Send(...)
MPI.COMM_WORLD[0].Recv(...)
MPI.COMM_WORLD[0].Bcast(...)</pre>
<p>have to be replaced by:</p>
<pre class="literal-block">MPI.COMM_WORLD.Send(..., dest=0)
MPI.COMM_WORLD.Recv(..., source=0)
MPI.COMM_WORLD.Bcast(..., root=0)</pre>
</li>
<li><p>Automatic MPI initialization (i.e., at import time) requests the
maximum level of MPI thread support (i.e., it is done by calling
<span class="docutils literal">MPI_Init_thread()</span> and passing <span class="docutils literal">MPI_THREAD_MULTIPLE</span>). In case
you need to change this behavior, you can tweak the contents of the
<span class="docutils literal">mpi4py.rc</span> module.</p></li>
<li><p>In order to obtain the values of predefined attributes attached to
the world communicator, now you have to use the <span class="docutils literal">Get_attr()</span>
method on the <span class="docutils literal">MPI.COMM_WORLD</span> instance:</p>
<pre class="literal-block">tag_ub = MPI.COMM_WORLD.Get_attr(MPI.TAG_UB)</pre>
</li>
<li><p>In the previous implementation, <span class="docutils literal">MPI.COMM_WORLD</span> and
<span class="docutils literal">MPI.COMM_SELF</span> were associated to <strong>duplicates</strong> of the (C-level)
<span class="docutils literal">MPI_COMM_WORLD</span> and <span class="docutils literal">MPI_COMM_SELF</span> predefined communicator
handles. Now this is no longer the case, <span class="docutils literal">MPI.COMM_WORLD</span> and
<span class="docutils literal">MPI.COMM_SELF</span> proxies the <strong>actual</strong> <span class="docutils literal">MPI_COMM_WORLD</span> and
<span class="docutils literal">MPI_COMM_SELF</span> handles.</p></li>
<li><p>Convenience aliases <span class="docutils literal">MPI.WORLD</span> and <span class="docutils literal">MPI.SELF</span> were removed. Use
instead <span class="docutils literal">MPI.COMM_WORLD</span> and <span class="docutils literal">MPI.COMM_SELF</span>.</p></li>
<li><p>Convenience constants <span class="docutils literal">MPI.WORLD_SIZE</span> and <span class="docutils literal">MPI.WORLD_RANK</span> were
removed. Use instead <span class="docutils literal">MPI.COMM_WORLD.Get_size()</span> and
<span class="docutils literal">MPI.COMM_WORLD.Get_rank()</span>.</p></li>
</ul>
</section>
</main>
</body>
</html>
